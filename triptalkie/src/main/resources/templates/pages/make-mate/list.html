<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/base}">

<!-- 메이크 메이트 게시판 리스트 -->
<main layout:fragment="content">
	<section>
		<div class="form-container">
			<form th:action="@{/travel-review/findTravelreviewAllList}" method="get">
				<div class="form-group row">
					<div class="col-sm-10">
						<input type="text" name="keyword" class="form-control search-box" placeholder="무엇을 찾아볼까요?">
					</div>
					<div class="col-sm-2">
						<button type="submit" class="btn btn-block btn-search">검색</button>
					</div>
				</div>
				<!-- 카테고리 필터 -->
				<div class="form-group row">
					<div class="col-md">
						<select id="countrySelect" class="form-control select-box mr-2" name="countryId">
							<option value="">나라 선택</option>
							<option th:each="country : ${countryList}" th:value="${country.id}"
								th:text="${country.name}"></option>
						</select>
					</div>

					<div class="col-md">
						<select id="citySelect" class="form-control select-box mr-2" name="cityId">
							<option value="">도시 선택</option>
						</select>
					</div>

					<div class="col-md">
						<select class="form-control select-box" name="conceptType">
							<option value="">여행 컨셉</option>
							<option value="맛집/카페">맛집/카페</option>
							<option value="술/친목">술/친목</option>
							<option value="액티비티/투어">액티비티/투어</option>
							<option value="전시회/공연">전시회/공연</option>
							<option value="기타">기타</option>
						</select>
					</div>
				</div>
			</form>
		</div>

	</section>

	<section>
		<div class="row">
			<div class="col-xl-6 mate-main position-relative">
				<div class="qr-overlay">
					<img th:src="@{/images/mate-qr.png}" class="img-fluid qr-size">
				</div>
				<img th:src="@{/images/makemate-main.jpg}" class="img-fluid">
				<div class="mate-text-overlay">
					같이라서 <br>
					<span class="font-weight-light">더 멀리</span> 갈 수 있어
				</div>
			</div>

			<div class="col-xl-6">
				<div class="trip-card" th:each="list:${combinedList}">
					<!-- 카드 -->
					<div class="card border-0 p-2">
						<!-- 1행: 배지 -->
						<div class="mb-2">
							<span class="badge badge--category travel-type" th:text="${list.makemate.conceptType}">전체 동행</span>
						</div>

						<!-- 2행: 썸네일 + 글 제목/내용 -->
						<div class="d-flex mb-2">
							<!-- 썸네일 -->
							<div class="thumbnail mr-2" style="flex: 0 0 100px; height: 100px;">
								<img src="/images/bangkok.jpg" class="img-fluid" alt="썸네일" style="height: 100px;">
							</div>
							<!-- 글 제목 + 내용 -->
							<div class="flex-grow-1">
								<a th:href="@{'/makemate/detailPage/' + ${list.makemate.idx}}" class="card-title d-block mb-1 text-truncate" th:text="${list.makemate.title}">환상의 섬 아름다운 제주도로 떠나보아요</a>
								<p class="text-muted small mb-0 text-truncate" th:text="${list.makemate.content}">시원한 렌터카 타고 설레는 가을 맞이 제주 여행 외롭지 않게 함께 해요 맛집도 가고 인생샷도
									찍어드림요</p>
							</div>
						</div>

						<!-- 3행: 여행 정보 + 프로필 + 날짜 -->
						<div class="d-flex justify-content-between align-items-center flex-wrap">
							<!-- 여행지 배지 -->
							<span class="badge badge--category travel-type mt-auto" th:text="${list.city.name}">제주도</span>

							<!-- 프로필 + 유저 정보 + 날짜 -->
							<div class="d-flex justify-content-end align-items-center" style="font-size: x-small;">
								<div class="ml-2 text-left">
									<div class="d-flex align-items-center mb-1">
										<img src="/images/bangkok.jpg" class="rounded-circle mr-1"
											style="width:16px; height:16px;" alt="프로필">

										<span th:text="${list.member.nickname}">킹현승</span> · <span class="birth" th:text="${list.member.birth}">30대</span> · <span th:text="${list.member.gender}">남성</span>
									</div>
									<div class="d-flex align-items-center justify-content-end">
										<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
											fill="currentColor" class="bi bi-calendar-fill mr-1" viewBox="0 0 16 16">
											<path
												d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V5h16V4H0V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5" />
										</svg>
										<span class="startdate" th:text="${#temporals.format(list.makemate.startdate, 'yyyy-MM-dd')}">2025.08.17</span>
										 ~ <span class="enddate" th:text="${#temporals.format(list.makemate.enddate, 'yyyy-MM-dd')}">2025.08.20</span>
										 <span class="days">(3일)</span>
									</div>
								</div>
							</div>
						</div>
					</div>

					<!-- 카드와 카드 사이 구분선: 마지막 카드가 아닐 때만 표시 -->
					<div class="card-divider m-1"></div>

					
				</div>

				<div class="row mb-3">
					<div class="col-3"></div>

					<!-- 왼쪽 빈 영역 (페이지네이션 가운데를 위해 flex-grow 사용) -->
					<div class="col-6 text-center">
						<nav class="p-2 pagination--bottom">
							<ul class="pagination justify-content-center mb-0 py-1">
								<!-- 처음으로, 이전 -->
								<li class="page-item pagination--spacing">
									<a class="page-link square" href="#">«</a>
								</li>
								<li class="page-item pagination--spacing">
									<a class="page-link square" href="#">‹</a>
								</li>

								<!-- 페이지 번호 반복 -->
								<li class="page-item pagination--spacing">
									<a class="page-link square" href="#">1</a>
								</li>
								<li class="page-item pagination--spacing">
									<a class="page-link square" href="#">2</a>
								</li>
								<li class="page-item pagination--spacing">
									<a class="page-link square" href="#">3</a>
								</li>
								<!-- 필요하면 추가 페이지 번호 넣기 -->

								<!-- 다음, 마지막 -->
								<li class="page-item pagination--spacing">
									<a class="page-link square" href="#">›</a>
								</li>
								<li class="page-item pagination--spacing">
									<a class="page-link square" href="#">»</a>
								</li>
							</ul>
						</nav>
					</div>
					<!-- 검색 결과 없을 때 메시지 -->
					<!--s<div th:if="${pageData.totalPage == 0}" class="col-6 text-center p-3">
								검색 결과가 없습니다.
							</div>-->

					<!-- 오른쪽 글쓰기 버튼 -->

					<div class="col d-flex justify-content-center align-items-center mt-1">
						<a class="btn btn-write px-2 py-1" th:href="@{/makemate/registerPage}">
							<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
								class="bi bi-pencil-square" viewBox="0 0 16 16">
								<path
									d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z">
								</path>
								<path fill-rule="evenodd"
									d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z">
								</path>
							</svg>
						</a>
					</div>
				</div>
			</div>
		</div>

	</section>
	<script src="/js/make-mate.js"></script>
	<script src="/js/make-mate-knj.js"></script>
</main>
</html>