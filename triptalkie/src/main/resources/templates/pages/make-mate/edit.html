<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/base}">
<!-- 메이크 메이트 글 작성 -->
<main layout:fragment="content">
	<section>
		<h4 class="text-center content--title">나의 여행 메이트를 찾아보세요</h4>
		<div class="mate-containers bg--containers py-3 px-3">
			<div class="form-contianer">
				<form
					th:action="@{/makemate/edit/{makemateId}(makemateId=${makemate.idx})}"
					method="post" enctype="multipart/form-data">
					<section class="title-section">
						<!-- 타이틀 -->
						<div class="row">
							<div class="col-sm-12">
								<input type="text" id="title" name="title" class="form-control"
									placeholder="파리로 2주 정도 같이 놀러가요" required> <input
									type="hidden" name="memberId" th:value="${session.loginId}">
							</div>
						</div>
					</section>
					<div class="card-divider m-2 w-auto"></div>
					<section class="category-section">
						<!-- 카테고리 선택 -->
						<div class="row">
							<div class="col-sm-1 icon-spacing">
								<svg xmlns="http://www.w3.org/2000/svg" width="25" height="25"
									fill="currentColor" class="bi bi-calendar-fill mr-1"
									viewBox="0 0 16 16">
								<path
										d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V5h16V4H0V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5" />
							</svg>
							</div>
							<div class="col-sm-11">
								<span class="startdate"
									th:text="${#temporals.format(makemate.startdate, 'yyyy-MM-dd')}">2025.08.17</span>
								~ <span class="enddate"
									th:text="${#temporals.format(makemate.enddate, 'yyyy-MM-dd')}">2025.08.20</span>
								<span class="days">n일</span>
							</div>
						</div>
						<div class="row mt-1">
							<div class="col-sm-1 icon-spacing">
								<svg xmlns="http://www.w3.org/2000/svg" width="25" height="25"
									fill="currentColor" class="bi bi-geo-alt-fill"
									viewBox="0 0 16 16">
								<path
										d="M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10m0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6" />
							</svg>
							</div>
							<div class="col-sm-11">
								<span th:text="${land.name}">유럽</span> · <span
									th:text="${country.name}">프랑스</span> · <span
									th:text="${city.name}">파리</span>
							</div>
						</div>

						<div class="row  mt-1">
							<div class="col-sm-1 icon-spacing">
								<svg xmlns="http://www.w3.org/2000/svg" width="25" height="25"
									fill="currentColor" class="bi bi-person-fill"
									viewBox="0 0 16 16">
								<path
										d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6" />
							</svg>
							</div>
							<div class="col-sm-11">
								<select class="form-control" name="maxPeople" required>
									<option value="">변경할 최대 인원을 선택해 주세요</option>
									<option value="2">2명</option>
									<option value="3">3명</option>
									<option value="4">4명</option>
									<option value="5">5명</option>
									<option value="6">6명</option>
									<option value="7">7명</option>
									<option value="8">8명</option>
								</select>
							</div>
						</div>
						<div class="row  mt-1">
							<div class="col-sm-1 icon-spacing">
								<svg xmlns="http://www.w3.org/2000/svg" width="25" height="25"
									fill="currentColor" class="bi bi-people-fill"
									viewBox="0 0 16 16">
								<path
										d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6m-5.784 6A2.24 2.24 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.3 6.3 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1zM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5" />
							</svg>
							</div>
							<div class="col-sm-11">
								<span th:text="${makemate.mateType}">동일 성별</span> · <span
									th:text="${makemate.ageGroup}">모든 나이</span>
							</div>
							<div class="col-sm-1"></div>
						</div>
						<div class="row mt-1">
							<div class="col-sm-1 icon-spacing">
								<svg xmlns="http://www.w3.org/2000/svg" width="25" height="25"
									fill="currentColor" class="bi bi-cash-coin" viewBox="0 0 16 16">
								<path fill-rule="evenodd"
										d="M11 15a4 4 0 1 0 0-8 4 4 0 0 0 0 8m5-4a5 5 0 1 1-10 0 5 5 0 0 1 10 0" />
								<path
										d="M9.438 11.944c.047.596.518 1.06 1.363 1.116v.44h.375v-.443c.875-.061 1.386-.529 1.386-1.207 0-.618-.39-.936-1.09-1.1l-.296-.07v-1.2c.376.043.614.248.671.532h.658c-.047-.575-.54-1.024-1.329-1.073V8.5h-.375v.45c-.747.073-1.255.522-1.255 1.158 0 .562.378.92 1.007 1.066l.248.061v1.272c-.384-.058-.639-.27-.696-.563h-.668zm1.36-1.354c-.369-.085-.569-.26-.569-.522 0-.294.216-.514.572-.578v1.1zm.432.746c.449.104.655.272.655.569 0 .339-.257.571-.709.614v-1.195z" />
								<path
										d="M1 0a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4.083q.088-.517.258-1H3a2 2 0 0 0-2-2V3a2 2 0 0 0 2-2h10a2 2 0 0 0 2 2v3.528c.38.34.717.728 1 1.154V1a1 1 0 0 0-1-1z" />
								<path
										d="M9.998 5.083 10 5a2 2 0 1 0-3.132 1.65 6 6 0 0 1 3.13-1.567" />
							</svg>
							</div>
							<div class="col-sm-11">
								<input type=text class="form-control" name="budget"
									placeholder="변경하고싶은 예산을 적어주세요" required>
							</div>
						</div>
					</section>
					<div class="card-divider m-2 w-auto"></div>
					<section class="content-section">
						<!-- 내용 -->
						<div>
							<textarea class="form-control" name="content"
								style="height: 300px;" placeholder="메이트들에게 제안하고 싶은 여행을 소개해 주세요" required></textarea>
						</div>
						<!-- 메이트 유형, 여행 컨셉 -->
						<div class="row mt-3">
							<!-- 메이트 유형 -->
							<div class="col-sm-8">
								<p class="subheading mb-2">메이트 유형</p>
								<input type="radio" id="allMate" name="mateType" value="전체 메이트"
									hidden checked="checked" required> <label for="allMate"
									class="btn mate-type">전체 메이트</label> <input type="radio"
									id="partMate" name="mateType" value="부분 메이트" hidden> <label
									for="partMate" class="btn mate-type">부분 메이트</label> <input
									type="radio" id="stayMate" name="mateType" value="숙박 메이트"
									hidden> <label for="stayMate" class="btn mate-type">숙박
									메이트</label>
							</div>
							<!-- 여행 컨셉 -->
							<div class="col-sm-4">
								<p class="subheading mb-2">여행 컨셉</p>
								<select class="form-control" name="conceptType" required>
									<option value="">여행 컨셉</option>
									<option value="맛집/카페">맛집/카페</option>
									<option value="술/친목">술/친목</option>
									<option value="액티비티/투어">액티비티/투어</option>
									<option value="전시회/공연">전시회/공연</option>
									<option value="기타">기타</option>
								</select>
							</div>
						</div>
					</section>

					<div class="card-divider m-2 w-auto"></div>

					<section class="upload-section">
						<!-- 사진 첨부 -->
						<div class="row mt-1">
							<div class="col-sm-12">
								<div class="photo-upload">
									<p class="mb-1">
										<strong>사진 첨부</strong> <span class="text-muted small">등록하지
											않으면 기본 이미지가 표시돼요</span>
									</p>
									<div class="d-flex align-items-center">
										<!-- 클릭 가능한 타일 -->
										<label for="photo" class="upload-tile mb-0" id="uploadTile">
											<span class="plus">+</span>
										</label>
										<!-- 미리보기 이미지 -->
										<img id="preview" src=""
											style="display: none; width: 80px; height: 80px; margin-left: 10px;">
									</div>
									<!-- 실제 파일 입력(숨김) -->
									<input type="hidden" name="uuid" th:if="${photo != null}" th:value="${photo.uuid}">
									<input type="file" id="photo" name="photo" accept="image/*"
										class="sr-only">
								</div>
							</div>
						</div>
					</section>
					<section class="button-mm-section">
						<div class="row m-0">
							<div class="col-sm-3 pr-2">
								<button type="button" class="btn btn-back btn-mm-back back-to-list">목록</button>
							</div>
							<div class="col-sm-9">
								<button type="submit" class="btn btn-mm-complete">완료</button>
							</div>
						</div>
					</section>
				</form>
			</div>
		</div>

	</section>
	<script src="/js/make-mate.js"></script>
	<script src="/js/make-mate-edit.js"></script>
</main>
</html>