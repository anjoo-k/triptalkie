<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/base}">

<main layout:fragment="content">
	<h4 class="text-center content--title">나의 여행 정보를 공유해주세요</h4>
	<div class="register-containers bg--containers pt-3 pb-3">

		<div class="form-container">
			<!-- 글쓰기 전용 폼 -->
			<form th:action="@{/travel-info/register}" th:object="${travelInfo}"
				method="post" enctype="multipart/form-data">

				<!-- 제목 -->
				<div class="form-group row">
					<div class="col-sm-12">
						<input type="text" th:field="*{title}" class="form-control"
							placeholder="여행 정보를 알릴 제목을 작성해주세요" required>
					</div>
				</div>

				<!-- 여행정보 / 기준일 / 도시 -->
				<div class="form-group row">
					<!-- 여행 정보 유형 -->
					<div class="col-md-4">
						<label class="subheading">여행 정보 유형</label> <select th:field="*{infotype}"
							class="form-control" required>
							<option value="">선택</option>
							<option value="팁">팁</option>
							<option value="교통">교통</option>
							<option value="숙박">숙박</option>
							<option value="음식점">음식점</option>
							<option value="관광지">관광지</option>
							<option value="축제">축제</option>
							<option value="비용">비용</option>
							<option value="안전">안전</option>
							<option value="날씨">날씨</option>
							<option value="기타">기타</option>
						</select>
					</div>

					<!-- 여행 기준일 -->
					<div class="col-md-4">
						<label class="subheading">정보 기준일</label> <input type="month" th:field="*{tempMonth}"
							class="form-control" required />
					</div>

				</div>

				<div class="form-group row">
					<!-- 나라 선택 -->
					<div class="form-group col">
						<label class="subheading" for="country">나라</label> <select id="country"
							class="form-control" required>
							<option value="">-- 나라 선택 --</option>
							<option th:each="country : ${countryList}"
								th:value="${country.id}" th:text="${country.name}"></option>
						</select>
					</div>

					<!-- 도시 선택 -->
					<div class="form-group col">
						<label class="subheading" for="city">도시</label>
						<!-- <select id="city"
							th:field="*{cityId}" class="form-control" required> -->
						<select id="city" name="cityId" class="form-control" required>
							<option value="">-- 도시 선택 --</option>
							<!-- AJAX로 동적 채움 -->
						</select>
					</div>
				</div>


				<!-- 본문 -->
				<div class="form-group row">
					<div class="col-sm-12">
						<textarea th:field="*{content}" class="form-control" rows="12"
							placeholder="여행 정보를 자세히 작성해주세요" required></textarea>
					</div>
				</div>

				<div class="board-divider mb-3"></div>

				<!-- 사진 첨부 -->
				<section class="upload-section">
					<!-- 사진 첨부 -->
					<div class="row mt-1">
						<div class="col-sm-12">
							<div class="photo-upload mb-3">
								<p class="mb-1 mt-0">
									<strong>사진 첨부</strong> <span class="text-muted small">등록하지
										않으면 기본 이미지가 표시돼요</span>
								</p>
								<div class="d-flex align-items-center">
									<!-- 클릭 가능한 타일 -->
									<label for="photo" class="upload-tile mb-0" id="uploadTile">
										<span class="plus">+</span>
									</label>
									<!-- 미리보기 이미지 -->
									<img id="preview" src=""
										style="display: none; width: 80px; height: 80px; margin-left: 10px;">
								</div>
								<!-- 실제 파일 입력(숨김) -->
								<input type="file" id="photo" name="photo" accept="image/*"
									class="sr-only form-control-file">
							</div>
						</div>
					</div>
				</section>

				<div class="board-divider mb-3"></div>

				<!-- 5️⃣ 버튼 -->
				<div class="d-flex justify-content-between align-items-center">
					<button type="button" class="btn btn-back back-to-list"
						onclick="history.back();">목록</button>
					<button type="submit" class="btn btn-completed-writing">완료</button>
				</div>

			</form>
		</div>

	</div>

	<script src="/js/travel-info.js"></script>
</main>
</html>
