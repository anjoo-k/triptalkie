<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/base}">

<main layout:fragment="content">
	<h4 class="text-center content--title">여행 정보 게시판</h4>

	<div class="travel-info-containers bg--containers pt-5 pb-5">
		<!-- 검색 폼 -->
		<div class="form-container mb-3">
			<form th:action="@{/travel-info/list}" method="get">
				<div class="form-group row">
					<div class="col-sm-10">
						<input type="text" name="keyword" class="form-control"
							placeholder="무엇을 찾아볼까요?" th:value="${keyword}">
					</div>
					<div class="col-sm-2">
						<button type="submit" class="btn btn-block btn-search">검색</button>
					</div>
				</div>
			</form>
		</div>

		<div class="info-list-container mt-4 mx-4">
			<div th:each="info : ${travelInfoList}">
				<div class="card mb-3">
					<div class="card-body">
						<div class="d-flex align-items-center">
							<div class="mr-2">글 번호</div>
							<div class="mb-0 flex-fill">
								<div class="d-flex align-items-center">
									<div class="small mt-1 mr-2" th:text="${info.cityId}">지역</div>
									<div class="small mt-1 mr-2" th:text="${info.infotype}">여행정보종류</div>
									<div class="small mt-1" th:text="${info.member.nickname}">닉네임</div>
								</div>
								<div>
									<a class="h3"
										th:href="@{/travel-info/detail/{idx}(idx=${info.idx})}"
										th:text="${info.title}">글 제목</a>
								</div>
								<div>
									<div class="small mt-1"
										th:text="${#temporals.format(info.infodate, 'yyyy-MM')}">여행정보기준일</div>
								</div>
							</div>
							<div class="small ml-auto d-flex align-items-center">
								<div class="mr-2" th:text="${info.view}">조회수</div>
								<div
									th:text="${#temporals.format(info.createdAt, 'yyyy-MM-dd')}">2025-08-19</div>
							</div>

						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- 페이징 -->
		<nav class="mt-4">
			<ul class="pagination justify-content-center">
				<!-- 이전 블록 -->
				<li class="page-item"
					th:classappend="${pageData.currentPage == 1} ? 'disabled'"><a
					class="page-link"
					th:href="@{/travel-info/list(page=${pageData.currentPage - 1})}">&laquo;</a>
				</li>

				<!-- 페이지 번호 -->
				<li class="page-item"
					th:each="i : ${#numbers.sequence(pageData.startPage, pageData.endPage)}"
					th:classappend="${i == pageData.currentPage} ? 'active'"><a
					class="page-link" th:href="@{/travel-info/list(page=${i})}"
					th:text="${i}">1</a></li>

				<!-- 다음 블록 -->
				<li class="page-item"
					th:classappend="${pageData.currentPage == pageData.totalPage} ? 'disabled'">
					<a class="page-link"
					th:href="@{/travel-info/list(page=${pageData.currentPage + 1})}">&raquo;</a>
				</li>
			</ul>
		</nav>
		<div class="d-flex justify-content-end mt-3 mx-4">
			<a th:href="@{/travel-info/register}" class="btn btn-warning">글쓰기</a>
		</div>
	</div>
</main>
</html>